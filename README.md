# ìœµí•©ìº¡ìŠ¤í†¤ë””ìì¸ íŒ€ ì œë„¤ì‹œìŠ¤
## ì£¼ì œ

YOLOv5 ê¸°ë°˜ ì ¯ìŠ¨ ë‚˜ë…¸ êµí†µìƒí™© ìŒì„± ì•Œë¦¼ ì‹œìŠ¤í…œ : ìš°íšŒì „ì„ ì¤‘ì‹¬ìœ¼ë¡œ

## ê°œìš”

ì‹¤ì‹œê°„ ì˜ìƒì²˜ë¦¬ ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ ìš°íšŒì „ ê°€ëŠ¥ ì—¬ë¶€ì™€ ì „ë°© ì‚¬ë¬¼ì— ëŒ€í•œ ì¶©ëŒ ê°€ëŠ¥ì„± ì—¬ë¶€ë¥¼ ì†Œë¦¬ë¡œ ì•Œë ¤ì£¼ëŠ” ê¸°ìˆ ì„ ê°œë°œí•˜ê³ , ì ¯ìŠ¨ ë‚˜ë…¸ë¥¼ ì´ìš©í•˜ì—¬ ì´ì— ëŒ€í•œ í”„ë¡œí† íƒ€ì…ì„ ì œì‘í•˜ê³ ì í•œë‹¤.  

ì§€ë‚œ 22ë…„ 7ì›”ì™€ 23ë…„ 1ì›”, ìš°íšŒì „ ê´€ë ¨ êµí†µ ë²•ê·œ ê°œì • ì´í›„ ê°‘ì‘ìŠ¤ëŸ½ê³  ì¦ì€ ë³€í™”ë¡œ ì¸í•´ ë§ì€ ìš´ì „ìë“¤ì´ ì ì‘í•˜ê¸° í˜ë“¤ì–´í–ˆë‹¤. ë˜í•œ ë‹¨ì•ˆ ì‹œê°ì¥ì• ì¸ì˜ ê²½ìš° ì¼ë°˜ ìš´ì „ìë“¤ì— ë¹„í•´ ìš°ì¸¡ ì‚¬ê°ì§€ëŒ€ê°€ ë„“ì–´ ìš°íšŒì „ ì‹œ ë”ìš± ìœ„í—˜í•˜ë‹¤.  

ì „ì²´ êµí†µì‚¬ê³  ì¤‘ ì•½ 40%ê°€ êµì°¨ë¡œì—ì„œ ë°œìƒí•œë‹¤ê³  í•˜ëŠ” êµ­í† êµí†µë¶€ì˜ ìë£Œë„ ì¡´ì¬í•˜ë‹ˆ, ì´ëŸ¬í•œ ë¬¸ì œì ë“¤ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ìš°íšŒì „ ê°€ëŠ¥ ì—¬ë¶€ ì•Œë¦¼ ì‹œìŠ¤í…œì„ ê°œë°œí•˜ì—¬ êµì°¨ë¡œ ì‹ í˜¸ ìœ„ë°˜ë¥ ì„ ê°ì†Œì‹œí‚¤ê³ ì í•œë‹¤. ë˜í•œ ê°€ì¥ ì‚¬ê³ ê°€ ë¹ˆë²ˆí•˜ê²Œ ì¼ì–´ë‚˜ëŠ” ì˜¤í† ë°”ì´ì™€ ë³´í–‰ìë¥¼ ëŒ€ìƒìœ¼ë¡œ ì¶©ëŒ ë°©ì§€ ì‹œìŠ¤í…œì„ ê°œë°œí•˜ì—¬ êµì°¨ë¡œ ì‚¬ê³ ìœ¨ì„ ë‚®ì¶”ë©°, ë‚˜ì•„ê°€ ì—¬ëŸ¬ ì·¨ì•½ ê³„ì¸µ ë° ì¼ë°˜ ìš´ì „ìë“¤ì˜ ì‚¬ê³ ìœ¨ ê°ì†Œë¥¼ ê¸°ëŒ€í•œë‹¤. 

## ì‹¤í–‰í™˜ê²½ 

### ì¤€ë¹„ë¬¼

1. ì ¯ìŠ¨ ë‚˜ë…¸ B01  
2. 5V PWM íŒ¬  
3. 20W ì–´ëŒ‘í„°
4. 32GB ì´ìƒì˜ microSD ì¹´ë“œ  
5. í‚¤ë³´ë“œ  
6. ëª¨ë‹ˆí„°  
7. ë§ˆìš°ìŠ¤  
8. USB ìŠ¤í”¼ì»¤  
9. USB ì¹´ë©”ë¼

### ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜

1. Jetson Nanoì— JetPack 4.6 ì„¤ì¹˜
2. ë¨ ì‚¬ìš©ëŸ‰ ì €í•˜ë¥¼ ìœ„í•´ gdm3 ì œê±° ë° lightdm ì„¤ì¹˜
   ```
   sudo apt-get install lightdm
   sudo apt-get purge gdm3
   ```
3. swap ê³µê°„ ì„¤ì •
   ```
   sudo apt-get update
   sudo apt-get upgrade
   sudo apt-get install nano
   sudo apt-get install dphys-swapfile

   sudo nano /sbin/dphys-swapfile
   ```
   íŒŒì¼ ë‚´ì˜ ê°’ë“¤ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì • í›„, [ctrl]+[x], [y], [Enter]ë¥¼ ëˆŒëŸ¬ ì €ì¥í•˜ê³  ë‹«ê¸°
   ```
   CONF_SWAPSIZE=4096
   CONF_SWAPFACTOR=2
   CONF_MAXSWAP=4096
   ```
   ```
   sudo nano /etc/dphys-swapfile
   ```
   ìœ„ì™€ ê°™ì€ ê°’ìœ¼ë¡œ í¸ì§‘, [ctrl]+[x], [y], [Enter]ë¥¼ ëˆŒëŸ¬ ì €ì¥í•˜ê³  ë‹«ê¸°
   ```
   sudo reboot
   ```
4. OpenCV 4.5.4 with CUDA ì„¤ì¹˜
   ```
   wget https://github.com/Qengineering/Install-OpenCV-Jetson-Nano/raw/main/OpenCV-4-5-4.sh
   sudo chmod 755 ./OpenCV-4-5-4.sh
   ./OpenCV-4-5-4.sh
   ```
5. SDì¹´ë“œ ê³µê°„ í™•ë³´ì™€ ìŠ¤ì™‘ ê³µê°„ í•´ì œ
   ```
   rm OpenCV-4-5-4.sh
   sudo /etc/init.d/dphys-swapfile stop
   sudo apt-get remove --purge dphys-swapfile
   sudo rm -rf ~/opencv
   sudo rm -rf ~/opencv_contrib
   ```
6. PyTorch1.8 + torchvision v0.9.0 ì„¤ì¹˜
   ```
   wget https://nvidia.box.com/shared/static/p57jwntv436lfrd78inwl7iml6p13fzh.whl -O torch-1.8.0-cp36-cp36m-linux_aarch64.whl
   sudo apt-get install python3-pip libopenblas-base libopenmpi-dev

   pip3 install Cython
   pip3 install numpy torch-1.8.0-cp36-cp36m-linux_aarch64.whl

   sudo apt-get install libjpeg-dev zlib1g-dev libpython3-dev libavcodec-dev libavformat-dev libswscale-dev
   git clone --branch v0.9.0 https://github.com/pytorch/vision torchvision
   cd torchvision
   export BUILD_VERSION=0.9.0
   python3 setup.py install --user
   cd ../ 
   ```
7. YOLOv5 ì„¤ì¹˜
   ```
   https://github.com/CSID-DGU/2023-1-SCS4031-GENESIS.git
   cd 2023-1-SCS4031-GENESIS/yolov5-python3.6.9-jetson
   ```
   ë‹¤ìŒ ë‚´ìš© requirements.txtì—ì„œ ì œê±°
   ```
   numpy>=1.18.5
   opencv-python>=4.1.2
   torch>=1.7.0
   torchvision>=0.8.1
   ```
   ì´í›„ requirements.txt ì„¤ì¹˜
   ```
   python3 -m pip install
   python3 -m pip install -r requirements.txt
   ```
8. detect.py ì‹¤í–‰
   ```
   python3 detect.py --source 0 --weights final.pt --img 416
   ```
   
## ê²°ê³¼ë¬¼

í•˜ë“œì›¨ì–´ ê²°ê³¼ë¬¼ :  

![image](https://github.com/CSID-DGU/2023-1-SCS4031-GENESIS/assets/101885318/b41f1e62-748c-4240-a8fa-df87914aeceb)  
  
ì‹¤ì œ ì£¼í–‰ ì˜ìƒì„ í™œìš©í•œ ì‹œìŠ¤í…œ ì‚¬ìš© ì˜ìƒ :  

https://youtu.be/Z9FmOT0r8dQ

## íŒ€ì›

ğŸ˜€ ë¥˜ê°•í˜„ : íŒ€ì¥ ë° í•˜ë“œì›¨ì–´ ê°œë°œ

ğŸ˜€ ìµœë‹¤í¬ : ìŠ¤í”„íŠ¸ì›¨ì–´ ê°œë°œ ë° ë°ì´í„° ì „ì²˜ë¦¬

ğŸ˜€ ë°±ì„±ìš± : ëª¨ë¸ í•™ìŠµ ë° ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ

## ë ˆí¼ëŸ°ìŠ¤

https://whiteknight3672.tistory.com/316  
